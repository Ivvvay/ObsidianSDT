==**Паттерн Строитель** - это порождающий паттерн проектирования, который позволяет создавать сложные объекты пошагово (частями). Он отделяет процесс конструирования объекта от его представелния, что позволяет использовать один и тот же процесс конструирования для создания различных представлений объекта==

*Определение 1:* конструирование объекта - это процесс создания и настройки объекта, оно включает в себя:
* Инициализацию - создание экземпляра объекта
* Настройку - установку свойств объекта (например, через сеттеры иили параметры конструктора)
* Сборку - пошаговое добавление частей или компонентов объекта

В паттерне Строитель конструирование выносится в отдельных класс (ConcreteBulder), что позволяет:
* Изолировать сложную логику создания объекта
* Пошагово конфигурировать (настраивать) объект
* Создавать различные варианты объекта, используя один и тот же вариант конструирования

*Определение 2:* представление объекта - это то, как объект выглядит или как он используется после создания, оно включает в себя:
* Структуру объекта - какие данные и методы он содержит
* Поведение объекта - как объект взаимодействует с другими объектами
* Финальное состояние объекта - какие свойства и значения установлены после завершения конструирования

В паттерне Строитель представление объекта отделено от процесса его создания, что позволяет:
* Изменять процесс конструирования, не влияя на конечный объект
* Создавать разные представления объекта, используя один и тот же процесс конструирования

*Использование паттерна Строитель:*
* Создание сложныъ объектов - когда объект имеет много параметров и вариантов конфигураций
* Изоляция кода - когда нужно отделить логику создания объекта он представления
* Пошаговое создание - когда объект должен создаваться пошагово, возможно, с использованием разных конфигураций

*Преимущества паттерна Строитель:*
* Гибкость - позволяет создавать различные конфигурации объекта, используя один и тот же процесс конструирования
* Изоляция - логика создания объекта изолирована от его представления, что упрощает поддержку и расширение
* Повторное использование - можно повторно использовать один и тот же процесс конструирования для создания различных объектов

*Недостатки паттерна Строитель:*
* Сложность - увеличивает сложность кода из-за введения дополнительных классов
* Избыточность - может быть избыточным для простых объектов, которые не требуют сложного процесса конструирования

*Рассмотрим UML-диаграмму паттерна Строитель:*
![[Д®†£а†ђђ† ™Ђ†ббЃҐ 2.png]]
Пояснение к диаграмме:
* Director - управляет процессом конструирования, используя Builder
* Builder - интерфейс для создания частей объекта (конструирования)
* ConcreteBuilder - реализация интерфейса Builder, создаёт конкретные части объекта
* Product - конечный объект, который создаётся

```cpp
#include <iostream>

using namespace std;

// Продукт
class House {
public:
  void setWalls(const string& walls) {
    this->walls = walls;
  }

  void setRoof(const string& roof) {
    this->roof = roof;
  }

  void setWindow(const string& window) {
    this->window = window;
  }

  void showInfo() const {
    cout << "Дом с параметрами:" << endl;
    cout << "Стены: " << walls << endl;
    cout << "Крыша: " << roof << endl;
    cout << "Окна: " << window << endl;
  }

private:
  string walls;
  string roof;
  string window;
};

// Строитель
class IHouseBuilder {
public:
  ~IHouseBuilder() = default;

  virtual void buildWalls() = 0;
  virtual void buildRoof() = 0;
  virtual void buildWindow() = 0;

  virtual House getResult() = 0;
};

// Конкретный строитель
class ConcreteHouseBuilder : public IHouseBuilder {
public:
  void buildWalls() override {
    house.setWalls("Белые стены");
  }

  void buildRoof() override {
    house.setRoof("Металлочерепица");
  }

  void buildWindow() override {
    house.setWindow("Пластиковые окна");
  }

  House getResult() override {
    return house;
  }

private:
  House house;
};

// Директор
class Director {
public:
  void setBuilder(IHouseBuilder* houseBuilder) {
    this->houseBuilder = houseBuilder;
  }

  void constructHouse() {
    houseBuilder->buildWalls();
    houseBuilder->buildRoof();
    houseBuilder->buildWindow();
  }

private:
  IHouseBuilder* houseBuilder;
};

int main() {
  setlocale(LC_ALL, "Rus");

  ConcreteHouseBuilder houseBuilder;
  Director director;

  director.setBuilder(&houseBuilder);
  director.constructHouse();

  House house = houseBuilder.getResult();
  house.showInfo();

  return 0;
}
```