==**Паттерн Одиночка** - это порождающий паттерн, который гарантирует, что у класса есть только один экземпляр, и предоставлеяет глобальную точку доступа к этому экземпляру==

*Использование паттерна Одиночка:*
* Единственный экземпляр - когда в система должен существовать только один экземпляр класса (например, подключение к БД, логгер)
* Глобальный доступ - когда нужно предоставить глобальную точку доступа к этому экземпляру
* Контроль создания - когда нужно контролировать процесс создания экземпляра (например, ленивая инициализация)

*Преимущества паттерна Одиночка:*
* Контроль над экземпляром - гарантирует, что у класса будет только один экземпляр
* Глобальный доступ - упрощает доступ к экземпляру из любой части программы
* Ленивая инициализация - экземпляр создаётся только при первом обращении, что может экономить ресурсы

*Недостатки паттерна Одиночка:*
* Глобальное состояние - может привести к нежелательным побочным эффектам, так как экземпляр доступен глобально
* Тестирование - усложняет тестирование, так как экземпляр является глобальным и может сохранять состояние между тестами
* Нарушение принципа единой ответственности - класс берёт на себя две обязанности: управление своим экземпляром и выполнение своей основной задачи

*Рассмотрим UML-диаграмму паттерна Одиночка:*
![[Д®†£а†ђђ† ™Ђ†ббЃҐ.png]]
Пояснение к диаграмме:
* Singleton - класс, который содержит статический метод getInstance() для доступа к единственному экземпляру
* instance - статическое поле, которое хранит единственный экземпляр класса
* getInstance - статический метод, который возвращает экземпляр класса. Если экземпляр ещё не создан, он создаётся

```cpp
#include <iostream>

using namespace std;

class Singleton{
    public:
    static Singleton& Instance(){
        static Singleton s;
        return s;
    }
    
    private:
    Singleton(){};
    ~Singleton(){};
    Singleton(Singleton const&); // оператор копирования
    Singleton& operator= (Singleton const&);
};

int main() {
  // Получаем экземпляр Singleton
  Singleton& singleton = Singleton::Instance();
  return 0;
}
```